syntax = "proto3";
package clientchannel;
import "clientchannel/event.proto";
 
message Response {
	message InitAck {}

	message InitNotAck {
		string reason = 1;
	}

	message PublishAck {
		string publish_action_id = 1;
	}

	message PublishNotAck {
		string publish_action_id = 1;
		string reason = 2;
	}

	message SubscribeAck {
	}

	message SubscribeNotAck {
		string reason = 2;
	}

	message SnapshotAck {
		string topic = 1;
		string snapshot_id = 2;
		string from_time = 3;
		string to_time = 4;
	}

	message SnapshotNotAck {
		string topic = 1;
		string reason = 2;
	}

	message InvalidateGdprAck {
		string tenant_id = 1;
		string topic = 2;
		string gdpr_id = 3;
	}

	message InvalidateGdprNotAck {
		string tenant_id = 1;
		string topic = 2;
		string gdpr_id = 3;
		string reason = 4;
	}

	message PublishEventEnvelope {
		string tenant_id = 1;
		string topic = 2;
		Event event = 3;
	}

	oneof data {
		PublishEventEnvelope event = 1;

		InitAck init_ack = 2;
		InitNotAck init_not_ack = 3;
		PublishAck publish_ack = 4;
		PublishNotAck publish_not_ack = 5;
		SubscribeAck subscribe_ack = 6;
		SubscribeNotAck subscribe_not_ack = 7;
		SnapshotAck snapshot_ack = 8;
		SnapshotNotAck snapshot_not_ack = 9;
		InvalidateGdprAck invalidate_gdpr_ack = 10;
		InvalidateGdprNotAck invalidate_gdpr_not_ack = 11;
	}
}
